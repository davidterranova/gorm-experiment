CREATE TABLE IF NOT EXISTS emails (
  id UUID PRIMARY KEY,
  created_at TIMESTAMP WITHOUT TIME ZONE NOT NULL DEFAULT NOW(),
  updated_at TIMESTAMP WITHOUT TIME ZONE NOT NULL DEFAULT NOW(),
  user_id UUID NOT NULL REFERENCES users (id) ON DELETE CASCADE,
  email TEXT NOT NULL,
  principal BOOLEAN NOT NULL DEFAULT FALSE,
  verified BOOLEAN NOT NULL DEFAULT FALSE,
  CONSTRAINT emails_user_id_email UNIQUE (user_id, email)
);
